<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>PDF Slide Viewer</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            background: #f0f0f0;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
        }
        .text-section {
            max-width: 800px;
            margin-bottom: 20px;
            color: #333;
            text-align: center;
        }
        canvas {
            border: 1px solid #ccc;
            margin-bottom: 20px;
            max-width: 100%;
            height: auto;
        }
        .controls {
            display: flex;
            gap: 10px;
            align-items: center;
            margin-bottom: 20px;
        }
        button {
            padding: 10px 20px;
            font-size: 16px;
        }
    </style>
</head>
<body>
    <h1>PDF Slide Viewer</h1>

    <div class="text-section">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Proin ut nisi vel purus commodo condimentum. Sed a sapien sed ligula feugiat viverra. Curabitur dignissim orci et felis euismod, vel volutpat augue mattis. Integer nec blandit eros. Vivamus nec augue nec tortor laoreet finibus.</p>
    </div>

    <canvas id="pdf-canvas"></canvas>

    <div class="controls">
        <button id="prev">Previous</button>
        <span>Page <span id="page-num">1</span> of <span id="page-count">?</span></span>
        <button id="next">Next</button>
    </div>

    <div class="text-section">
        <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit. Fusce et vestibulum magna, nec accumsan lorem. Integer cursus bibendum eros, non malesuada libero laoreet sed. Vestibulum sed justo ut sem convallis dictum. Cras nec tellus quis sem tristique feugiat non a quam.</p>
    </div>

    <!-- PDF.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.4.120/pdf.min.js"></script>
    <script>
        const url = 'Ordinario.pdf'; // Ensure Ordinario.pdf is in the same directory

        let pdfDoc,
            pageNum = 1,
            pageRendering = false,
            pageNumPending = null,
            scale = 1.0,
            canvas = document.getElementById('pdf-canvas'),
            ctx = canvas.getContext('2d');

        function renderPage(num) {
            pageRendering = true;
            pdfDoc.getPage(num).then(function(page) {
                const viewport = page.getViewport({ scale: scale });
                canvas.height = viewport.height;
                canvas.width = viewport.width;

                const renderContext = {
                    canvasContext: ctx,
                    viewport: viewport
                };
                const renderTask = page.render(renderContext);

                renderTask.promise.then(function () {
                    pageRendering = false;
                    if (pageNumPending !== null) {
                        renderPage(pageNumPending);
                        pageNumPending = null;
                    }
                });
            });

            document.getElementById('page-num').textContent = num;
        }

        function queueRenderPage(num) {
            if (pageRendering) {
                pageNumPending = num;
            } else {
                renderPage(num);
            }
        }

        function onPrevPage() {
            if (pageNum <= 1) return;
            pageNum--;
            queueRenderPage(pageNum);
        }

        function onNextPage() {
            if (pageNum >= pdfDoc.numPages) return;
            pageNum++;
            queueRenderPage(pageNum);
        }

        document.getElementById('prev').addEventListener('click', onPrevPage);
        document.getElementById('next').addEventListener('click', onNextPage);

        pdfjsLib.getDocument(url).promise.then(function (pdfDoc_) {
            pdfDoc = pdfDoc_;
            document.getElementById('page-count').textContent = pdfDoc.numPages;
            renderPage(pageNum);
        }).catch(function(error) {
            console.error('Error loading PDF: ', error);
        });
    </script>
</body>
</html>

